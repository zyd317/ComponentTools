webpackHotUpdateSimpleComponent("index",{

/***/ "./src/CooperateComponent/index.js":
/*!*****************************************!*\
  !*** ./src/CooperateComponent/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n\nvar _eventUtils = __webpack_require__(/*! ./eventUtils */ \"./src/CooperateComponent/eventUtils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by yidi.zhao on 2018/5/11.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nwindow.COMPONENT = {\n    open: function open(comp, config) {\n        this._action(comp, config, 'open');\n    },\n    update: function update(comp, config) {\n        this._action(comp, config, 'update');\n    },\n    close: function close(comp) {\n        this._action(comp, {}, 'close');\n    },\n    _action: function _action(comp, config, action) {\n        if (comp) {\n            var evt = (0, _eventUtils.createEvent)('componentchange', {\n                name: comp,\n                action: action,\n                config: config\n            });\n            (0, _eventUtils.dispatchEvent)(window, evt);\n        }\n    }\n};\n\nvar CompWrapper = function (_Component) {\n    _inherits(CompWrapper, _Component);\n\n    function CompWrapper(props) {\n        _classCallCheck(this, CompWrapper);\n\n        var _this = _possibleConstructorReturn(this, (CompWrapper.__proto__ || Object.getPrototypeOf(CompWrapper)).call(this, props));\n\n        var self = _this;\n        var component = document.getElementById('COMPONENT');\n        if (component) {\n            _this.node = component;\n        } else {\n            var doc = window.document;\n            _this.node = doc.createElement('div');\n            _this.node.setAttribute('id', 'COMPONENT');\n            doc.body.appendChild(_this.node);\n        }\n        _this.state = {\n            renderCompName: ''\n        };\n\n        window.addEventListener('componentchange', function (e) {\n            var _ref = e.detail || {},\n                action = _ref.action,\n                config = _ref.config,\n                name = _ref.name;\n\n            if (name && action && props[name]) {\n                if (self.refs[name]) {\n                    self.refs[name][action](config);\n                } else {\n                    self.setState({\n                        renderCompName: name\n                    }, function () {\n                        self.refs[name][action](config);\n                    });\n                }\n            }\n        });\n        return _this;\n    }\n\n    _createClass(CompWrapper, [{\n        key: 'render',\n        value: function render() {\n            var state = this.state,\n                props = this.props;\n            var renderCompName = state.renderCompName;\n            var _props$classNa = props.classNa,\n                classNa = _props$classNa === undefined ? '' : _props$classNa;\n\n            var comp = renderCompName && props[renderCompName];\n            debugger;\n            return (0, _reactDom.createPortal)(_react2.default.createElement(\n                'div',\n                { className: classNa },\n                comp ? _react2.default.createElement(props[renderCompName], { ref: renderCompName }) : ''\n            ), this.node);\n        }\n    }]);\n\n    return CompWrapper;\n}(_react.Component);\n\nexports.default = CompWrapper;\n\n//# sourceURL=webpack://SimpleComponent/./src/CooperateComponent/index.js?");

/***/ })

})